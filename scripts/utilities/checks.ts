ğŸ‰ æŸ¥è¯¢å®Œæˆ!
PS C:\Files\QPRLib_HK\Defi Project\LAB Project> npx hardhat run scripts/utilities/check_nav_SLtoken.ts --network sepolia
ğŸ“Š Oracle ä»·æ ¼æ›´æ–°å™¨ & å‡€å€¼è®¡ç®—å™¨
ğŸ“¡ å½“å‰ç½‘ç»œ: sepolia
ğŸ‘¤ æ“ä½œè´¦æˆ·: 0x4845d4db01b81A15559b8734D234e6202C556d32

ğŸ”— è¿æ¥åˆçº¦...

âŒ è„šæœ¬æ‰§è¡Œå¤±è´¥:
é”™è¯¯ä¿¡æ¯: HH700: Artifact for contract "LTCOracle" not found.
PS C:\Files\QPRLib_HK\Defi Project\LAB Project> npx hardhat run scripts/utilities/check_nav_SLtoken.ts --network sepolia
ğŸ“Š Oracle ä»·æ ¼æ›´æ–°å™¨ & å‡€å€¼è®¡ç®—å™¨
ğŸ“¡ å½“å‰ç½‘ç»œ: sepolia
ğŸ‘¤ æ“ä½œè´¦æˆ·: 0x4845d4db01b81A15559b8734D234e6202C556d32

ğŸ”— è¿æ¥åˆçº¦...
âœ… åˆçº¦è¿æ¥æˆåŠŸ

ğŸ‘¤ è·å–ç”¨æˆ·æŒä»“ä¿¡æ¯...
âœ… ç”¨æˆ·æŒä»“ä¿¡æ¯:
   ğŸ“‹ Token ID 2:
      - æŒä»“æ•°é‡: 6000.0
      - æ æ†ç±»å‹: AGGRESSIVE (1:1)
      - é“¸å¸ä»·æ ¼: $120.0
      - ç´¯ç§¯åˆ©æ¯: 0.005

ğŸ“ˆ è·å–å½“å‰ Oracle ä»·æ ¼...
âš ï¸ å½“å‰ Oracle ä»·æ ¼æ— æ•ˆ

ğŸ”„ å¼€å§‹æ‰¹é‡æµ‹è¯•ä¸åŒä»·æ ¼ä¸‹çš„å‡€å€¼å˜åŒ–...
================================================================================

ğŸ“Š æµ‹è¯• 1/8: è¾ƒä½ä»·æ ¼ $100
--------------------------------------------------
ğŸ”„ æ›´æ–° Oracle ä»·æ ¼...
âœ… Oracle ä»·æ ¼å·²æ›´æ–°ä¸º $100.00
   ğŸ¯ Token ID 2 (AGGRESSIVE (1:1)):
      - é“¸å¸ä»·æ ¼: $120.0
      - æŒä»“æ•°é‡: 6000.0
      - æ€»å‡€å€¼: 0.666666666666666666
      - é™¤æ¯å‡€å€¼: 0.666665810502283104
      - æ€»ä»·å€¼: $3999.999999999999996
      - å‡€ä»·å€¼: $3999.994863013698626137
      - ç›ˆäº: -33.33%
      - ç´¯ç§¯åˆ©æ¯: 0.005136986301369863
   ğŸ“ˆ ç†è®ºå‡€å€¼è®¡ç®— (é“¸å¸ä»·æ ¼ $120):
      - CONSERVATIVE (1:8): 0.8125
      - MODERATE (1:4): 0.791666666666666666
      - AGGRESSIVE (1:1): 0.666666666666666666

ğŸ“Š æµ‹è¯• 2/8: ç•¥ä½ä»·æ ¼ $110
--------------------------------------------------
ğŸ”„ æ›´æ–° Oracle ä»·æ ¼...
âœ… Oracle ä»·æ ¼å·²æ›´æ–°ä¸º $110.00
   ğŸ¯ Token ID 2 (AGGRESSIVE (1:1)):
      - é“¸å¸ä»·æ ¼: $120.0
      - æŒä»“æ•°é‡: 6000.0
      - æ€»å‡€å€¼: 0.833333333333333333
      - é™¤æ¯å‡€å€¼: 0.833332465753424657
      - æ€»ä»·å€¼: $4999.999999999999998
      - å‡€ä»·å€¼: $4999.994794520547943206
      - ç›ˆäº: -16.67%
      - ç´¯ç§¯åˆ©æ¯: 0.005205479452054794
   ğŸ“ˆ ç†è®ºå‡€å€¼è®¡ç®— (é“¸å¸ä»·æ ¼ $120):
      - CONSERVATIVE (1:8): 0.90625
      - MODERATE (1:4): 0.895833333333333333
      - AGGRESSIVE (1:1): 0.833333333333333333

ğŸ“Š æµ‹è¯• 3/8: åŸºå‡†ä»·æ ¼ $120
--------------------------------------------------
ğŸ”„ æ›´æ–° Oracle ä»·æ ¼...
âœ… Oracle ä»·æ ¼å·²æ›´æ–°ä¸º $120.00
   ğŸ¯ Token ID 2 (AGGRESSIVE (1:1)):
      - é“¸å¸ä»·æ ¼: $120.0
      - æŒä»“æ•°é‡: 6000.0
      - æ€»å‡€å€¼: 1.0
      - é™¤æ¯å‡€å€¼: 0.99999912100456621
      - æ€»ä»·å€¼: $6000.0
      - å‡€ä»·å€¼: $5999.994726027397260274
      - ç›ˆäº: 0.00%
      - ç´¯ç§¯åˆ©æ¯: 0.005273972602739726
   ğŸ“ˆ ç†è®ºå‡€å€¼è®¡ç®— (é“¸å¸ä»·æ ¼ $120):
      - CONSERVATIVE (1:8): 1.0
      - MODERATE (1:4): 1.0
      - AGGRESSIVE (1:1): 1.0

ğŸ“Š æµ‹è¯• 4/8: ç•¥é«˜ä»·æ ¼ $130
--------------------------------------------------
ğŸ”„ æ›´æ–° Oracle ä»·æ ¼...
âœ… Oracle ä»·æ ¼å·²æ›´æ–°ä¸º $130.00
   ğŸ¯ Token ID 2 (AGGRESSIVE (1:1)):
      - é“¸å¸ä»·æ ¼: $120.0
      - æŒä»“æ•°é‡: 6000.0
      - æ€»å‡€å€¼: 1.166666666666666666
      - é™¤æ¯å‡€å€¼: 1.166665776255707761
      - æ€»ä»·å€¼: $6999.999999999999996
      - å‡€ä»·å€¼: $6999.994657534246571343
      - ç›ˆäº: 16.67%
      - ç´¯ç§¯åˆ©æ¯: 0.005342465753424657
   ğŸ“ˆ ç†è®ºå‡€å€¼è®¡ç®— (é“¸å¸ä»·æ ¼ $120):
      - CONSERVATIVE (1:8): 1.09375
      - MODERATE (1:4): 1.104166666666666666
      - AGGRESSIVE (1:1): 1.166666666666666666

ğŸ“Š æµ‹è¯• 5/8: è¾ƒé«˜ä»·æ ¼ $140
--------------------------------------------------
ğŸ”„ æ›´æ–° Oracle ä»·æ ¼...
âœ… Oracle ä»·æ ¼å·²æ›´æ–°ä¸º $140.00
   ğŸ¯ Token ID 2 (AGGRESSIVE (1:1)):
      - é“¸å¸ä»·æ ¼: $120.0
      - æŒä»“æ•°é‡: 6000.0
      - æ€»å‡€å€¼: 1.333333333333333333
      - é™¤æ¯å‡€å€¼: 1.333332431506849314
      - æ€»ä»·å€¼: $7999.999999999999998
      - å‡€ä»·å€¼: $7999.994589041095888411
      - ç›ˆäº: 33.33%
      - ç´¯ç§¯åˆ©æ¯: 0.005410958904109589
   ğŸ“ˆ ç†è®ºå‡€å€¼è®¡ç®— (é“¸å¸ä»·æ ¼ $120):
      - CONSERVATIVE (1:8): 1.1875
      - MODERATE (1:4): 1.208333333333333333
      - AGGRESSIVE (1:1): 1.333333333333333333

ğŸ“Š æµ‹è¯• 6/8: é«˜ä»·æ ¼ $150
--------------------------------------------------
ğŸ”„ æ›´æ–° Oracle ä»·æ ¼...
âœ… Oracle ä»·æ ¼å·²æ›´æ–°ä¸º $150.00
   ğŸ¯ Token ID 2 (AGGRESSIVE (1:1)):
      - é“¸å¸ä»·æ ¼: $120.0
      - æŒä»“æ•°é‡: 6000.0
      - æ€»å‡€å€¼: 1.5
      - é™¤æ¯å‡€å€¼: 1.499999086757990867
      - æ€»ä»·å€¼: $9000.0
      - å‡€ä»·å€¼: $8999.99452054794520548
      - ç›ˆäº: 50.00%
      - ç´¯ç§¯åˆ©æ¯: 0.00547945205479452
   ğŸ“ˆ ç†è®ºå‡€å€¼è®¡ç®— (é“¸å¸ä»·æ ¼ $120):
      - CONSERVATIVE (1:8): 1.28125
      - MODERATE (1:4): 1.3125
      - AGGRESSIVE (1:1): 1.5

ğŸ“Š æµ‹è¯• 7/8: ä½ä»·æ ¼ $80 (æµ‹è¯•è´Ÿå‡€å€¼)
--------------------------------------------------
ğŸ”„ æ›´æ–° Oracle ä»·æ ¼...
âœ… Oracle ä»·æ ¼å·²æ›´æ–°ä¸º $80.00
   ğŸ¯ Token ID 2 (AGGRESSIVE (1:1)):
      - é“¸å¸ä»·æ ¼: $120.0
      - æŒä»“æ•°é‡: 6000.0
      - æ€»å‡€å€¼: 0.333333333333333333
      - é™¤æ¯å‡€å€¼: 0.333332408675799086
      - æ€»ä»·å€¼: $1999.999999999999998
      - å‡€ä»·å€¼: $1999.994452054794518548
      - ç›ˆäº: -66.67%
      - ç´¯ç§¯åˆ©æ¯: 0.005547945205479452
   ğŸ“ˆ ç†è®ºå‡€å€¼è®¡ç®— (é“¸å¸ä»·æ ¼ $120):
      - CONSERVATIVE (1:8): 0.625
      - MODERATE (1:4): 0.583333333333333333
      - AGGRESSIVE (1:1): 0.333333333333333333

ğŸ“Š æµ‹è¯• 8/8: æé«˜ä»·æ ¼ $200
--------------------------------------------------
ğŸ”„ æ›´æ–° Oracle ä»·æ ¼...
âœ… Oracle ä»·æ ¼å·²æ›´æ–°ä¸º $200.00
   ğŸ¯ Token ID 2 (AGGRESSIVE (1:1)):
      - é“¸å¸ä»·æ ¼: $120.0
      - æŒä»“æ•°é‡: 6000.0
      - æ€»å‡€å€¼: 2.333333333333333333
      - é™¤æ¯å‡€å€¼: 2.333332397260273972
      - æ€»ä»·å€¼: $13999.999999999999998
      - å‡€ä»·å€¼: $13999.994383561643833617
      - ç›ˆäº: 133.33%
      - ç´¯ç§¯åˆ©æ¯: 0.005616438356164383
   ğŸ“ˆ ç†è®ºå‡€å€¼è®¡ç®— (é“¸å¸ä»·æ ¼ $120):
      - CONSERVATIVE (1:8): 1.75
      - MODERATE (1:4): 1.833333333333333333
      - AGGRESSIVE (1:1): 2.333333333333333333

ğŸ“Š =============== æ±‡æ€»æŠ¥å‘Š ===============
ğŸ¯ ä¸åŒä»·æ ¼ä¸‹çš„å‡€å€¼å˜åŒ–è¶‹åŠ¿:
--------------------------------------------------------------------------------
ä»·æ ¼            ä¿å®ˆæ æ†        ä¸­ç­‰æ æ†        æ¿€è¿›æ æ†
------------------------------------------------------------
$100.00         0.8125          0.791666666666666666    0.666666666666666666
$110.00         0.90625         0.895833333333333333    0.833333333333333333
$120.00         1.0             1.0             1.0
$130.00         1.09375         1.104166666666666666    1.166666666666666666
$140.00         1.1875          1.208333333333333333    1.333333333333333333
$150.00         1.28125         1.3125          1.5
$80.00          0.625           0.583333333333333333    0.333333333333333333
$200.00         1.75            1.833333333333333333    2.333333333333333333

âš ï¸ é£é™©åˆ†æ:
ğŸ“ˆ å‡€å€¼è®¡ç®—å…¬å¼:
   - CONSERVATIVE: (9Ã—å½“å‰ä»·æ ¼ - é“¸å¸ä»·æ ¼) / (8Ã—é“¸å¸ä»·æ ¼)
   - MODERATE: (5Ã—å½“å‰ä»·æ ¼ - é“¸å¸ä»·æ ¼) / (4Ã—é“¸å¸ä»·æ ¼)
   - AGGRESSIVE: (2Ã—å½“å‰ä»·æ ¼ - é“¸å¸ä»·æ ¼) / (1Ã—é“¸å¸ä»·æ ¼)

ğŸ“Š è§‚å¯Ÿè¦ç‚¹:
   1. æ æ†è¶Šé«˜ï¼Œä»·æ ¼æ•æ„Ÿæ€§è¶Šå¼º
   2. å½“ä»·æ ¼ä½äºé“¸å¸ä»·æ ¼æ—¶ï¼Œå‡€å€¼å¯èƒ½ä¸ºè´Ÿ
   3. é™¤æ¯å‡€å€¼ = (æ€»ä»·å€¼ - ç´¯ç§¯åˆ©æ¯) / æŒä»“æ•°é‡
   4. ç´¯ç§¯åˆ©æ¯ä¼šéšæ—¶é—´å¢é•¿ï¼Œå½±å“å®é™…æ”¶ç›Š

ğŸ’¾ æµ‹è¯•ç»“æœæ‘˜è¦:
   - æ€»æµ‹è¯•æ•°: 8
   - æˆåŠŸæµ‹è¯•: 8
   - å¤±è´¥æµ‹è¯•: 0
   - ç”¨æˆ·æŒä»“æ•°: 1

ğŸ“„ è¯¦ç»†ç»“æœ (JSON):
{
  "timestamp": "2025-10-14T14:07:26.572Z",
  "network": "sepolia",
  "testUser": "0x4845d4db01b81A15559b8734D234e6202C556d32",
  "userPositions": 1,
  "results": [
    {
      "price": "100.00",
      "description": "è¾ƒä½ä»·æ ¼ $100",
      "userPositions": [
        {
          "tokenId": "2",
          "leverage": "AGGRESSIVE (1:1)",
          "mintPrice": "120.0",
          "balance": "6000.0",
          "grossNav": "0.666666666666666666",
          "netNav": "0.666665810502283104",
          "totalValue": "3999.999999999999996",
          "netValue": "3999.994863013698626137",
          "accruedInterest": "0.005136986301369863",
          "pnlPercent": "-33.33"
        }
      ],
      "theoretical": [
        {
          "leverage": "CONSERVATIVE (1:8)",
          "nav": "0.8125"
        },
        {
          "leverage": "MODERATE (1:4)",
          "nav": "0.791666666666666666"
        },
        {
          "leverage": "AGGRESSIVE (1:1)",
          "nav": "0.666666666666666666"
        }
      ]
    },
    {
      "price": "110.00",
      "description": "ç•¥ä½ä»·æ ¼ $110",
      "userPositions": [
        {
          "tokenId": "2",
          "leverage": "AGGRESSIVE (1:1)",
          "mintPrice": "120.0",
          "balance": "6000.0",
          "grossNav": "0.833333333333333333",
          "netNav": "0.833332465753424657",
          "totalValue": "4999.999999999999998",
          "netValue": "4999.994794520547943206",
          "accruedInterest": "0.005205479452054794",
          "pnlPercent": "-16.67"
        }
      ],
      "theoretical": [
        {
          "leverage": "CONSERVATIVE (1:8)",
          "nav": "0.90625"
        },
        {
          "leverage": "MODERATE (1:4)",
          "nav": "0.895833333333333333"
        },
        {
          "leverage": "AGGRESSIVE (1:1)",
          "nav": "0.833333333333333333"
        }
      ]
    },
    {
      "price": "120.00",
      "description": "åŸºå‡†ä»·æ ¼ $120",
      "userPositions": [
        {
          "tokenId": "2",
          "leverage": "AGGRESSIVE (1:1)",
          "mintPrice": "120.0",
          "balance": "6000.0",
          "grossNav": "1.0",
          "netNav": "0.99999912100456621",
          "totalValue": "6000.0",
          "netValue": "5999.994726027397260274",
          "accruedInterest": "0.005273972602739726",
          "pnlPercent": "0.00"
        }
      ],
      "theoretical": [
        {
          "leverage": "CONSERVATIVE (1:8)",
          "nav": "1.0"
        },
        {
          "leverage": "MODERATE (1:4)",
          "nav": "1.0"
        },
        {
          "leverage": "AGGRESSIVE (1:1)",
          "nav": "1.0"
        }
      ]
    },
    {
      "price": "130.00",
      "description": "ç•¥é«˜ä»·æ ¼ $130",
      "userPositions": [
        {
          "tokenId": "2",
          "leverage": "AGGRESSIVE (1:1)",
          "mintPrice": "120.0",
          "balance": "6000.0",
          "grossNav": "1.166666666666666666",
          "netNav": "1.166665776255707761",
          "totalValue": "6999.999999999999996",
          "netValue": "6999.994657534246571343",
          "accruedInterest": "0.005342465753424657",
          "pnlPercent": "16.67"
        }
      ],
      "theoretical": [
        {
          "leverage": "CONSERVATIVE (1:8)",
          "nav": "1.09375"
        },
        {
          "leverage": "MODERATE (1:4)",
          "nav": "1.104166666666666666"
        },
        {
          "leverage": "AGGRESSIVE (1:1)",
          "nav": "1.166666666666666666"
        }
      ]
    },
    {
      "price": "140.00",
      "description": "è¾ƒé«˜ä»·æ ¼ $140",
      "userPositions": [
        {
          "tokenId": "2",
          "leverage": "AGGRESSIVE (1:1)",
          "mintPrice": "120.0",
          "balance": "6000.0",
          "grossNav": "1.333333333333333333",
          "netNav": "1.333332431506849314",
          "totalValue": "7999.999999999999998",
          "netValue": "7999.994589041095888411",
          "accruedInterest": "0.005410958904109589",
          "pnlPercent": "33.33"
        }
      ],
      "theoretical": [
        {
          "leverage": "CONSERVATIVE (1:8)",
          "nav": "1.1875"
        },
        {
          "leverage": "MODERATE (1:4)",
          "nav": "1.208333333333333333"
        },
        {
          "leverage": "AGGRESSIVE (1:1)",
          "nav": "1.333333333333333333"
        }
      ]
    },
    {
      "price": "150.00",
      "description": "é«˜ä»·æ ¼ $150",
      "userPositions": [
        {
          "tokenId": "2",
          "leverage": "AGGRESSIVE (1:1)",
          "mintPrice": "120.0",
          "balance": "6000.0",
          "grossNav": "1.5",
          "netNav": "1.499999086757990867",
          "totalValue": "9000.0",
          "netValue": "8999.99452054794520548",
          "accruedInterest": "0.00547945205479452",
          "pnlPercent": "50.00"
        }
      ],
      "theoretical": [
        {
          "leverage": "CONSERVATIVE (1:8)",
          "nav": "1.28125"
        },
        {
          "leverage": "MODERATE (1:4)",
          "nav": "1.3125"
        },
        {
          "leverage": "AGGRESSIVE (1:1)",
          "nav": "1.5"
        }
      ]
    },
    {
      "price": "80.00",
      "description": "ä½ä»·æ ¼ $80 (æµ‹è¯•è´Ÿå‡€å€¼)",
      "userPositions": [
        {
          "tokenId": "2",
          "leverage": "AGGRESSIVE (1:1)",
          "mintPrice": "120.0",
          "balance": "6000.0",
          "grossNav": "0.333333333333333333",
          "netNav": "0.333332408675799086",
          "totalValue": "1999.999999999999998",
          "netValue": "1999.994452054794518548",
          "accruedInterest": "0.005547945205479452",
          "pnlPercent": "-66.67"
        }
      ],
      "theoretical": [
        {
          "leverage": "CONSERVATIVE (1:8)",
          "nav": "0.625"
        },
        {
          "leverage": "MODERATE (1:4)",
          "nav": "0.583333333333333333"
        },
        {
          "leverage": "AGGRESSIVE (1:1)",
          "nav": "0.333333333333333333"
        }
      ]
    },
    {
      "price": "200.00",
      "description": "æé«˜ä»·æ ¼ $200",
      "userPositions": [
        {
          "tokenId": "2",
          "leverage": "AGGRESSIVE (1:1)",
          "mintPrice": "120.0",
          "balance": "6000.0",
          "grossNav": "2.333333333333333333",
          "netNav": "2.333332397260273972",
          "totalValue": "13999.999999999999998",
          "netValue": "13999.994383561643833617",
          "accruedInterest": "0.005616438356164383",
          "pnlPercent": "133.33"
        }
      ],
      "theoretical": [
        {
          "leverage": "CONSERVATIVE (1:8)",
          "nav": "1.75"
        },
        {
          "leverage": "MODERATE (1:4)",
          "nav": "1.833333333333333333"
        },
        {
          "leverage": "AGGRESSIVE (1:1)",
          "nav": "2.333333333333333333"
        }
      ]
    }
  ],
  "summary": {
    "totalTests": 8,
    "successfulTests": 8,
    "failedTests": 0
  }
}

ğŸŠ Oracle ä»·æ ¼æ›´æ–°å’Œå‡€å€¼è®¡ç®—å®Œæˆ!